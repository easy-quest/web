# Linux Terminal ч.6 | Создаём собственные команды

15 июня

Для тех, кто не читал предыдущие статьи из данного цикла:

- *Предыдущая часть:*[[05_Linux_Terminal]]
- *Первая часть:* [[01_Linux_Terminal]]
## Что из себя представляют команды?

Если говорить очень упрощённо, то команда - это способ "попросить" компьютер сделать то, что мы хотим. Последний, в свою очередь, "отвечает" нам  либо результатом, либо объяснением, что он не может этого сделать по той или иной причине.

Вообще команды принято разделять на следующие типы:

1. **Выполняемые программы:** скомпилированные двоичные программы, написанные на языках программирования (напр.,C, C++) или сценария (напр., shell, Python).
2. **Встроенные команды (shell builtins), реализованные внутри самой программной оболочки.** Например, уже хорошо знакомая нам команда cd — это встроенная команда оболочки *bash.*
3. **Функции командной оболочки (shell functions):** миниатюрные сценарии на языке командной оболочки, встроенные в окружение.
4. **Псевдонимы (aliases):** команды, которые мы будем определять сами, сконструировав их из других команд.

> Если что-то не понятно — не расстраивайтесь. О вышеперечисленных типах мы  ещё не раз поговорим достаточно подробно и у Вас будет возможность  вникнуть в материал. 

### Узнаём к какому типу относится команда

Чтобы узнать к какому типу относится та или иная команда — воспользуемся встроенной командой *type,* которая имеет следующий синтаксис:

> type команда

Узнаём типы команд type, cd, ls и mv

Как мы можем видеть, команды *type* и *cd* являются встроенными командами *bash*. *ls* на самом деле — псевдоним себя же, но с параметром автоматического  выделения цветом (именно поэтому данная команда по умолчанию имеет  цветной вывод). *mv* — это выполняемая программа, расположенная в каталоге */usr/bin/*

### *Определяем каталог исполняемого файла*

Для обычных компьютеров порой достаточно команды type, чтобы узнать  расположение исполняемого файла, но в редких случаях (например, на  серверах, имеющих сложную конфигурацию) в системе может находиться сразу несколько версий исполняемой программы. Чтобы точно определить  местоположение исполняемого файла, нужно использовать команду *which, например: 'which ls'.*

> which ищет только исполняемые программы и не может выявить встроенные команды или псевдонимы (алиасы). Если попытаться определить местоположение  встроенной команды, то в результате получим либо пустой вывод, либо  сообщение об ошибке.

### Вывод очень краткого описания команды

У многих команд есть краткое описание их основного предназначения, вывести которое можно при помощи программы *whatis:*

## *Создание собственных команд* 

Пришло время создать наш первый алиас (псевдоним). Пусть для простоты он будет перемещаться в корневой каталог (**cd /**), выводить его содержимое (**ls**), а затем возвращаться в предыдущий каталог (**cd -**). Для объединения команд в одну строку будем использовать точку с запятой (**;**).

Как и любая команда, псевдоним должен обладать уникальным именем. Назовём  его ourtest, но сначала проверим, не занято ли это имя:

Проверка имени 'ourtest'

Отлично! Имя свободно, можем продолжать: для создания псевдонима используется команда alias со следующим синтаксисом: 

> alias имя_псевдонима='команда1 [параметры]; команда2 [параметры]; ...'

> Квадратные скобки означают, что элемент необязателен.



Тогда для создания нашего псевдонима введём:

> alias ourtest='cd /; ls; cd -' 



Проверим, занято ли теперь имя 'ourtest' и если да, попробуем вызвать его:

Проверка и вызов псевдонима ourtest

Чтобы удалить псевдоним, воспользуемся командой 'unalias':

Удаление и проверка алиаса ourtest

> Чтобы посмотреть список всех псевдонимов, достаточно ввести команду alias без параметров:

Список псевдонимов, объявляемых в LInux Mint по умолчанию

Псевдонимы представляют собой очень удобное средство как для создания новых, так и для переопределения существующих команд, но у них есть существенный  недостаток: они исчезают при завершении сеанса. Чтобы этого избежать, их можно добавить в файлы (материал об этом будет в одной из следующих  статей), а пока попробуйте для закрепления полученных знаний создать  несколько псевдонимов и вызвать их. Увидимся в следующей части!)

**UPD:** Следующая часть:[[07_Linux_Terminal]]